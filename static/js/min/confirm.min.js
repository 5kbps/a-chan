"use strict";function toggle(a,b){var c=document.getElementById(b);c.style.display?c.style.display="":c.style.display="none",a.innerHTML=c.style.display?"+":"&minus;",set_cookie("nav_show_"+b,c.style.display?"0":"1",30)}function removeframes(){for(var a=document.getElementsByTagName("a"),b=0;b<a.length;b++)"boardlink"==a[b].className&&(a[b].target="_top");return document.getElementById("removeframes").innerHTML="Frames removed.",!1}function reloadmain(){parent.main&&parent.main.location.reload()}function replaceAll(a,b,c){for(var d=a.indexOf(b);d>-1;)a=a.replace(b,c),d=a.indexOf(b);return a}function insert(a){if(!ispage||quick_reply){var b=document.forms.postform.message;if(b){if(b.createTextRange&&b.caretPos){var c=b.caretPos;c.text=" "==c.text.charAt(c.text.length-1)?a+" ":a}else if(b.setSelectionRange){var d=b.selectionStart,e=b.selectionEnd;b.value=b.value.substr(0,d)+a+b.value.substr(e),b.setSelectionRange(d+a.length,d+a.length)}else b.value+=a+" ";return b.focus(),!1}}return!0}function quote(b,a){var v=eval("document."+a+".message");v.value+=">>"+b+"\r",v.focus()}function checkhighlight(){var a;(a=/#i([0-9]+)/.exec(document.location.toString()))&&(document.forms.postform.message.value||insert(">>"+a[1]+"\n")),(a=/#([0-9]+)/.exec(document.location.toString()))&&highlight(a[1])}function highlight(a,b){for(var c=document.getElementsByTagName("td"),d=0;d<c.length;d++)"highlight"==c[d].className&&(c[d].className="reply");for(var e=document.getElementById("reply"+a),f=e.parentNode;"TABLE"!=f.nodeName;)f=f.parentNode;if((e||document.postform.replythread.value==a)&&"reflinkpreview"!=f.parentNode.className){e&&(e.className="highlight");var g=/^([^#]*)/.exec(document.location.toString());return document.location=g[1]+"#"+a,!1}return!0}function get_password(a){var b=getCookie(a);if(b)return b;for(var c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",b="",d=0;8>d;d++){var e=Math.floor(Math.random()*c.length);b+=c.substring(e,e+1)}return set_cookie(a,b,365),b}function togglePassword(){var a=-1!=navigator.userAgent.indexOf("Safari"),b=-1!=navigator.userAgent.indexOf("Opera"),c="Netscape"==navigator.appName,d=document.getElementById("passwordbox");if(d){var e;e=a||b||c?d.innerHTML:d.text,e=e.toLowerCase();var f="<td></td><td></td>";if(e==f)var f='<td class="postblock">Mod</td><td><input type="text" name="modpassword" size="28" maxlength="75">&nbsp;<acronym title="Display staff status (Mod/Admin)">D</acronym>:&nbsp;<input type="checkbox" name="displaystaffstatus" checked>&nbsp;<acronym title="Lock">L</acronym>:&nbsp;<input type="checkbox" name="lockonpost">&nbsp;&nbsp;<acronym title="Sticky">S</acronym>:&nbsp;<input type="checkbox" name="stickyonpost">&nbsp;&nbsp;<acronym title="Raw HTML">RH</acronym>:&nbsp;<input type="checkbox" name="rawhtml">&nbsp;&nbsp;<acronym title="Name">N</acronym>:&nbsp;<input type="checkbox" name="usestaffname"></td>';a||b||c?d.innerHTML=f:d.text=f}return!1}function toggleOptions(a,b,c){if(document.getElementById("opt"+a))if(""==document.getElementById("opt"+a).style.display)document.getElementById("opt"+a).style.display="none",document.getElementById("opt"+a).innerHTML="";else{var d='<td class="label"><label for="formatting">Formatting:</label></td><td colspan="3"><select name="formatting"><option value="" onclick="javascript:document.getElementById(\'formattinginfo'+a+"').innerHTML = 'All formatting is performed by the user.';\">Normal</option><option value=\"aa\" onclick=\"javascript:document.getElementById('formattinginfo"+a+"').innerHTML = '[aa] and [/aa] will surround your message.';\"";"aa"==getCookie("kuformatting")&&(d+=" selected"),d+='>Text Art</option></select> <input type="checkbox" name="rememberformatting"><label for="rememberformatting">Remember</label> <span id="formattinginfo'+a+'">',d+="aa"==getCookie("kuformatting")?"[aa] and [/aa] will surround your message.":"All formatting is performed by the user.",d+='</span></td><td><input type="button" value="Preview" class="submit" onclick="javascript:postpreview(\'preview'+a+"', '"+c+"', '"+a+"', document."+b+'.message.value);"></td>',document.getElementById("opt"+a).innerHTML=d,document.getElementById("opt"+a).style.display=""}}function getCookie(a){var b=new RegExp("(^|;\\s+)"+a+"=(.*?)(;|$)"),c=b.exec(document.cookie);return c&&c.length>2?Utf8.decode(unescape(replaceAll(c[2],"+","%20"))):""}function set_cookie(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="; expires="+d.toGMTString()}else e="";document.cookie=a+"="+b+e+"; path=/"}function del_cookie(a){document.cookie=a+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/"}function set_stylesheet(a,b,c){b?a==get_default_stylesheet()?del_cookie("kustyle_txt"):set_cookie("kustyle_txt",a,365):c?a==get_default_stylesheet()?del_cookie("kustyle_site"):set_cookie("kustyle_site",a,365):a==get_default_stylesheet()?del_cookie("kustyle"):set_cookie("kustyle",a,365);for(var d=document.getElementsByTagName("link"),e=!1,f=0;f<d.length;f++){var g=d[f].getAttribute("rel"),h=d[f].getAttribute("title");-1!=g.indexOf("style")&&h&&(d[f].disabled=!0,a==h&&(d[f].disabled=!1,e=!0))}e||set_preferred_stylesheet()}function set_preferred_stylesheet(){for(var a=document.getElementsByTagName("link"),b=0;b<a.length;b++){var c=a[b].getAttribute("rel"),d=a[b].getAttribute("title");-1!=c.indexOf("style")&&d&&(a[b].disabled=-1!=c.indexOf("alt"))}}function get_active_stylesheet(){for(var a=document.getElementsByTagName("link"),b=0;b<a.length;b++){var c=a[b].getAttribute("rel"),d=a[b].getAttribute("title");if(-1!=c.indexOf("style")&&d&&!a[b].disabled)return d}return null}function get_preferred_stylesheet(){for(var a=document.getElementsByTagName("link"),b=0;b<a.length;b++){var c=a[b].getAttribute("rel"),d=a[b].getAttribute("title");if(-1!=c.indexOf("style")&&-1==c.indexOf("alt")&&d)return d}return null}function get_default_stylesheet(){for(var a=document.getElementsByTagName("link"),b=0;b<a.length;b++){var c=a[b].getAttribute("rel"),d=a[b].getAttribute("title");if(-1!=c.indexOf("style")&&d&&"alternate stylesheet"!=c)return d}return null}function delandbanlinks(){if(kumod_set){togglePassword();var a=document.getElementById("fileonly");a&&(a=a.parentNode,a.innerHTML='[<input type="checkbox" name="fileonly" id="fileonly" value="on" /><label for="fileonly">File Only</label>] <input name="moddelete" onclick="return confirm(_(\'Are you sure you want to delete these posts?\'))" value="'+_("Delete")+'" type="submit" /> <input name="modban" value="'+_("Ban")+'" onclick="this.form.action=\''+config.ku_cgipath+'/manage_page.php?action=bans\';" type="submit" />');for(var b,c,d=document.getElementsByTagName("span"),e=0;e<d.length;e++)if(b=d[e],b.getAttribute("id")&&"dnb"==b.getAttribute("id").substr(0,3)){c=b.getAttribute("id").split("-"),b.innerHTML="";var f="";new Ajax.Request(ku_boardspath+"/manage_page.php?action=getip&boarddir="+c[1]+"&id="+c[2],{method:"get",onSuccess:function(a){ipaddr=a.responseText.split("=")||"what are you doing get out you don't even fit",span=document.getElementById(ipaddr[0]),span.innerHTML="[IP: "+ipaddr[1]+' <a href="'+ku_boardspath+"/manage_page.php?action=deletepostsbyip&ip="+ipaddr[1]+'" title="'+_("Delete all posts by this IP")+'">D</a> / <a href="'+ku_boardspath+"/manage_page.php?action=ipsearch&ip="+ipaddr[1]+'" title="'+_("Search for posts with this IP")+'">S</a>] '+span.innerHTML},onFailure:function(){f="[what are you doing get out you don't even fit]",b.innerHTML=f}}),f+='&#91;<a href="'+config.ku_cgipath+"/manage_page.php?action=delposts&boarddir="+c[1]+"&del",f+="y"==c[3]?"thread":"post",f+="id="+c[2]+'" title="'+_("Delete")+'" onclick="return confirm(_(\'Are you sure you want to delete this post/thread?\'));">D</a>&nbsp;<a href="'+config.ku_cgipath+"/manage_page.php?action=delposts&boarddir="+c[1]+"&del",f+="y"==c[3]?"thread":"post",f+="id="+c[2]+"&postid="+c[2]+'" title="'+_("Delete &amp; Ban")+'" onclick="return confirm(_(\'Are you sure you want to delete and ban the poster of this post/thread?\'));">&amp;</a>&nbsp;<a href="'+config.ku_cgipath+"/manage_page.php?action=bans&banboard="+c[1]+"&banpost="+c[2]+'" title="'+_("Ban")+'">B</a>&#93;&nbsp;&#91;<a href="'+config.ku_cgipath+"/manage_page.php?action=bans&banboard="+c[1]+"&banpost="+c[2]+'&instant=y" title="'+_("Instant Permanent Ban")+'" onclick="instantban(\''+c[1]+"',"+c[2]+'); return false;">P</a>&#93;&nbsp;&#91;<a href="'+config.ku_cgipath+"/manage_page.php?action=delposts&boarddir="+c[1]+"&del",f+="y"==c[3]?"thread":"post",f+="id="+c[2]+"&postid="+c[2]+'&cp=y" title="'+_("Child Pornography")+'" onclick="return confirm(_(\'Are you sure that this is child pornography?\'));">CP</a>&#93;',d[e].innerHTML=f}}}function instantban(a,b){var c=prompt(_('Are you sure you want to permenently ban the poster of this post/thread?\nIf so enter a ban message or click OK to use the default ban reason. To cancel this operation, click "Cancel".'));if(null!==c){var d=config.ku_cgipath+"/manage_page.php?action=bans&banboard="+a+"&banpost="+b+"&instant=y";""!=c&&(d+="&reason="+c),new Ajax.Request(d,{method:"get",onSuccess:function(a){var b=a.responseText||"Ban failed!";"success"==b?alert(_("Ban was sucessful.")):alert(_("Ban failed!"))},onFailure:function(){alert(_("Ban failed!"))}})}else alert(_("OK, no action taken."))}function togglethread(a){return-1!==hiddenthreads.toString().indexOf(a)?(document.getElementById("unhidethread"+a).style.display="none",document.getElementById("thread"+a).style.display="block",hiddenthreads.splice(hiddenthreads.indexOf(a),1),set_cookie("hiddenthreads",hiddenthreads.join("!"),30)):(document.getElementById("unhidethread"+a).style.display="block",document.getElementById("thread"+a).style.display="none",hiddenthreads.push(a),set_cookie("hiddenthreads",hiddenthreads.join("!"),30)),!1}function toggleblotter(a){var b,c=document.getElementsByTagName("li");new Array;for(i=0,iarr=0;i<c.length;i++)att=c[i].getAttribute("class"),"blotterentry"==att&&(b=c[i],"none"==b.style.display?(b.style.display="",a&&set_cookie("ku_showblotter","1",365)):(b.style.display="none",a&&set_cookie("ku_showblotter","0",365)))}function quickreply(a){0==a?(quick_reply=!1,document.getElementById("posttypeindicator").innerHTML="new thread"):(quick_reply=!0,document.getElementById("posttypeindicator").innerHTML="reply to "+a+' [<a href="#postbox" onclick="javascript:quickreply(\'0\');" title="Cancel">x</a>]'),document.postform.replythread.value=a}function getwatchedthreads(a,b){if(document.getElementById("watchedthreadlist")){var c=document.getElementById("watchedthreadlist");c.innerHTML=_("Loading watched threads..."),new Ajax.Request(ku_boardspath+"/threadwatch.php?board="+b+"&threadid="+a,{method:"get",onSuccess:function(a){var b=a.responseText||_("something went wrong (blank response)");c.innerHTML=b},onFailure:function(){alert(_("Something went wrong..."))}})}}function addtowatchedthreads(a,b){document.getElementById("watchedthreadlist")&&new Ajax.Request(ku_boardspath+"/threadwatch.php?do=addthread&board="+b+"&threadid="+a,{method:"get",onSuccess:function(a){a.responseText||_("something went wrong (blank response)");alert("Thread successfully added to your watch list."),getwatchedthreads("0",b)},onFailure:function(){alert(_("Something went wrong..."))}})}function removefromwatchedthreads(a,b){document.getElementById("watchedthreadlist")&&new Ajax.Request(ku_boardspath+"/threadwatch.php?do=removethread&board="+b+"&threadid="+a,{method:"get",onSuccess:function(a){a.responseText||_("something went wrong (blank response)");getwatchedthreads("0",b)},onFailure:function(){alert(_("Something went wrong..."))}})}function hidewatchedthreads(){set_cookie("showwatchedthreads","0",30),document.getElementById("watchedthreads")&&(document.getElementById("watchedthreads").innerHTML=_("The Watched Threads box will be hidden the next time a page is loaded.")+' [<a href="#" onclick="javascript:showwatchedthreads();return false">'+_("undo")+"</a>]")}function showwatchedthreads(){set_cookie("showwatchedthreads","1",30),window.location.reload(!0)}function checkcaptcha(a){return document.getElementById(a)&&document.getElementById(a).captcha&&""==document.getElementById(a).captcha.value?(alert("Please enter the captcha image text."),document.getElementById(a).captcha.focus(),!1):!0}function expandimg(a,b,c,d,e,f,g){element=document.getElementById("thumb"+a);var h='<img src="'+c+'" alt="'+a+'" class="thumb" width="'+f+'" height="'+g+'">',i='<img src="'+c+'" alt="'+a+'" class="thumb" height="'+g+'" width="'+f+'">',j='<img src="'+c+'" alt="'+a+'" class="thumb" height="'+g+'" width="'+f+'"/>',k="<img class=thumb height="+g+" alt="+a+' src="'+c+'" width='+f+">";element.innerHTML.toLowerCase()!=h&&element.innerHTML.toLowerCase()!=k&&element.innerHTML.toLowerCase()!=i&&element.innerHTML.toLowerCase()!=j?element.innerHTML=h:element.innerHTML='<img src="'+b+'" alt="'+a+'" class="thumb" height="'+e+'" width="'+d+'">'}function postpreview(a,b,c,d){document.getElementById(a)&&new Ajax.Request(ku_boardspath+"/expand.php?preview&board="+b+"&parentid="+c+"&message="+escape(d),{method:"get",onSuccess:function(b){var c=b.responseText||_("something went wrong (blank response)");document.getElementById(a).innerHTML=c},onFailure:function(){alert(_("Something went wrong..."))}})}function set_inputs(a){}function set_delpass(a){}function keypress(a){if(a||(a=window.event),a.altKey){var b=document.location.toString();if((-1==b.indexOf("catalog.html")&&-1==b.indexOf("/res/")||-1==b.indexOf("catalog.html")&&80==a.keyCode)&&18!=a.keyCode&&16!=a.keyCode){if(-1==b.indexOf(".html")||-1!=b.indexOf("board.html"))var c=0,d=b.substr(0,b.lastIndexOf("/")+1);else{var c=b.substr(b.lastIndexOf("/")+1);c=+c.substr(0,c.indexOf(".html"));var d=b.substr(0,b.lastIndexOf("/")+1)}if(0==c)var e=d;else var e=d+c+".html";if(222==a.keyCode||221==a.keyCode){if(match=/#s([0-9])/.exec(b))var f=+match[1];else var f=-1;if(222==a.keyCode)if(-1==f||9==f)var g=0;else var g=f+1;else if(221==a.keyCode)if(-1==f||0==f)var g=9;else var g=f-1;document.location.href=e+"#s"+g}else 59==a.keyCode||219==a.keyCode?(59==a.keyCode?c+=1:219==a.keyCode&&c>=1&&(c-=1),0==c?document.location.href=d:document.location.href=d+c+".html"):80==a.keyCode&&(document.location.href=e+"#postbox")}}}function byID(a){return document.getElementById(a)}function byClass(a){return document.getElementsByClassName(a)}function byTag(a){return document.getElementsByTagName(a)}function byName(a){return document.getElementsByName(a)}function Cycle(a,b){for(var c=0;a>c;c++)b(c)}function CycleThrough(a,b){for(var c in a)a.hasOwnProperty(c)&&"length"!=c&&b(c)}function pushStyle(a){var b=newElement("style");return b.innerHTML=a,document.head.appendChild(b),b}function collect(){for(var a={},b=arguments.length,c=0;b>c;c++)for(var d in arguments[c])arguments[c].hasOwnProperty(d)&&(a[d]=arguments[c][d]);return a}function newElement(a){return document.createElement(a)}function newTextNode(a){return document.createTextNode(a)}function insertAfter(a,b){var c=b.parentNode,d=b.nextSibling;return d?c.insertBefore(a,d):c.appendChild(a)}function stopPropagation(a){"function"==typeof a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function getOffset(a){var b=a.getBoundingClientRect();return{x:b.left,y:b.top,right:b.right,bottom:b.bottom,h:b.height,w:b.width}}function normalizeIntLength(a,b,c){if(c=c?c:"0",a+="",a.length<b)for(var d=0;d<b-a.length;d++)a=c+a;return a}function getInt(a){for(var b=[],c=0;c<a.length;c++)-1!="1234567890".indexOf(a[c])?b.push(a[c]):0;return 1*b.join([])}function genPassword(){for(var a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",b="",c=0;10>c;c++){var d=Math.floor(Math.random()*a.length);b+=a.substring(d,d+1)}return b}function ellipsis(a,b){var c="...";return a.length>b-c.length?a.substr(0,b)+c:a}function getWindowSize(){var a=window,b=document,c=b.documentElement,d=b.getElementsByTagName("body")[0],e=a.innerWidth||c.clientWidth||d.clientWidth,f=a.innerHeight||c.clientHeight||d.clientHeight;return{x:e,y:f}}function loadSettings(){"undefined"==typeof localStorage.settings&&applyDefaultSettings(),Settings=JSON.parse(localStorage.settings),Settings||(Settings=[])}function getSetting(a){return Settings||loadSettings(),"time_format"==a&&1*getSetting("time_format_i")<2&&(Settings[a]=DefaultSettings[a],Settings.time_format_i=2,saveSettings()),"undefined"==typeof Settings[a]?"undefined"==typeof DefaultSettings[a]?!1:(Settings[a]=DefaultSettings[a],saveSettings(),DefaultSettings[a]):Settings[a]}function getPostNumByElem(a){for(;a.parentNode;){if("reply"==a.className||"thread"==a.className)return getInt(a.id);a=a.parentNode}return null}function applyDefaultSettings(){Settings=DefaultSettings,saveSettings()}function saveSettings(){localStorage.settings=JSON.stringify(Settings)}function setCookie(a,b,c){c=c||{};var d=c.expires;if("number"==typeof d&&d){var e=new Date;e.setTime(e.getTime()+1e3*d),d=c.expires=e}d&&d.toUTCString&&(c.expires=d.toUTCString()),b=encodeURIComponent(b);var f=a+"="+b;for(var g in c){f+="; "+g;var h=c[g];h!==!0&&(f+="="+h)}document.cookie=f}function getCookie(a){var b=document.cookie.match(new RegExp("(?:^|; )"+a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return b?decodeURIComponent(b[1]):""}function isMobile(){var a=!1;return function(b){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a}function constructElementTree(a){var b,c,d=[];a=a.map(newElement),b=a[0],c=b,d.push(b);for(var e=1;e<a.length;e++)b.appendChild(a[e]),d.push(a[e]),console.log(a[e]),console.log(d),b=a[e];return{list:d,last:b,first:c}}function constructElementList(a){return a.map(newElement)}function decodeHTML(a){var b=newElement("span");return b.innerHTML=a,b.textContent}function showMessage(a,b){var c;byID("message-div")?c=byID("message-div"):(c=newElement("div"),c.className="reply-like",c.id="message-div",c.onclick=function(){this.remove()}),document.body.appendChild(c),c.textContent=a,b&&setTimeout(function(){hideMessage()},1e3*b)}function getSelectionText(){var a="";return window.getSelection?a=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(a=document.selection.createRange().text),a}function rkmSave(a){}function insert(a){var b;b=""==getSelectionText()?"":"> ",document.getElementsByName("message")[0].value=document.getElementsByName("message")[0].value+a+b+getSelectionText()}function replaceSelectedText(a,b){var c=getInputSelection(a),d=a.value;a.value=d.slice(0,c.start)+b+d.slice(c.end)}function getInputSelection(a){var b,c,d,e,f,g=0,h=0;return"number"==typeof a.selectionStart&&"number"==typeof a.selectionEnd?(g=a.selectionStart,h=a.selectionEnd):(c=document.selection.createRange(),c&&c.parentElement()==a&&(e=a.value.length,b=a.value.replace(/\r\n/g,"\n"),d=a.createTextRange(),d.moveToBookmark(c.getBookmark()),f=a.createTextRange(),f.collapse(!1),d.compareEndPoints("StartToEnd",f)>-1?g=h=e:(g=-d.moveStart("character",-e),g+=b.slice(0,g).split("\n").length-1,d.compareEndPoints("EndToEnd",f)>-1?h=e:(h=-d.moveEnd("character",-e),h+=b.slice(0,h).split("\n").length-1)))),{start:g,end:h}}function postReply(a,b,c,d){if(!d){var e=byID("message");isHidden(b)&&postShow(0,b);var f=getSelection(),g=f.toString().trim(),h=addCitation(byID("message").value,g,b);if(e.value=h[0],"none"!=e.style.display){if(g)setSelectionRange(e,h[1],h[1]);else{var i=e.value.length;setSelectionRange(e,i,i)}setTimeout(function(){e.focus()},10)}}var j=byID("postform-container-"+b);j&&(j.appendChild(byID("postform")),byName("replythread")[0].value=c,byID("posttypeindicator").textContent=_("To thread")+" ",byID("formpostlink").href=document.location.protocol+"//"+document.location.host+"/"+config.board+"/res/"+c+".html#"+b,byID("formpostlink").textContent=c,config.thread||(byID("clearreplyto").style.display="inline-block",byID("formpostlink").style.display="inline-block",byID("clearreplyto").innerHTML=config.clearreplyto_text))}function addTagSel(a,b){var c=["[","]"],d=c[0]+a+c[1],e=c[0]+"/"+a+c[1],f=!1;if(f){var g=document.selection.createRange(),h=b.createTextRange(),i=h.duplicate();i.moveToBookmark(g.getBookmark()),h.setEndPoint("EndToStart",i);var j=d+g.text+e,k=b.value.replace(/[\r\n]/g,".").indexOf(g.text.replace(/[\r\n]/g,"."),h.text.length);b.value=b.value.substring(0,k)+j+b.value.substring(k+j.length,b.value.length);var l=b.value.length-e.length;h.collapse(!0),h.moveEnd("character",l),h.moveStart("character",l),h.select()}else if(b.selectionStart||"0"==b.selectionStart){var m=b.selectionStart,n=b.selectionEnd,j=d+b.value.substring(m,n)+e;b.value=b.value.substring(0,m)+j+b.value.substring(n,b.value.length),b.setSelectionRange(n+d.length,n+d.length),b.focus()}return j}function addTagToMsg(a){addTagSel(a,byID("message"))}function addCitation(a,b,c){var d,e=0;if(b&&(b="> "+b.trim().replaceAll("\n","\n> ").replaceAll("> \n","")),-1!=a.indexOf(">>"+c)){for(var f=a.split(/>>/),g=1;g<f.length;g++){var h=f[g];if(h){if(!h.indexOf(c)&&b){d=">>"+h.trim()+"\n"+b.trim()+"\n",b="",e+=d.length,f[g]=d;continue}d=">>"+h,b&&(e+=d.length),f[g]=d}else d=h,b&&(e+=d.length),f[g]=d}return[f.join(""),e]}a=a.trim(),a&&(a+="\n");var i=a+">>"+c+"\n"+b+(b?"\n":"");return[i,i.length]}function setSelectionRange(a,b,c){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,c);else if(a.createTextRange){var d=a.createTextRange();d.collapse(!0),d.moveEnd("character",c),d.moveStart("character",b),d.select()}}function hideMessage(){byID("message-div")?byID("message-div").remove():""}function formatDate(a,b,c){function d(a,b){var c=a+"";for(b=b||2;c.length<b;)c="0"+c;return c}var e=TimeFormats.MMMM,f=TimeFormats.MMM,g=TimeFormats.dddd,h=TimeFormats.ddd,i=c?a.getUTCFullYear():a.getFullYear();b=b.replace(/(^|[^\\])yyyy+/g,"$1"+i),b=b.replace(/(^|[^\\])yy/g,"$1"+i.toString().substr(2,2)),b=b.replace(/(^|[^\\])y/g,"$1"+i);var j=(c?a.getUTCMonth():a.getMonth())+1;b=b.replace(/(^|[^\\])MMMM+/g,"$1"+e[0]),b=b.replace(/(^|[^\\])MMM/g,"$1"+f[0]),b=b.replace(/(^|[^\\])MM/g,"$1"+d(j)),b=b.replace(/(^|[^\\])M/g,"$1"+j);var k=c?a.getUTCDate():a.getDate();b=b.replace(/(^|[^\\])dddd+/g,"$1"+g[0]),b=b.replace(/(^|[^\\])ddd/g,"$1"+h[0]),b=b.replace(/(^|[^\\])dd/g,"$1"+d(k)),b=b.replace(/(^|[^\\])d/g,"$1"+k);var l=c?a.getUTCHours():a.getHours();b=b.replace(/(^|[^\\])HH+/g,"$1"+d(l)),b=b.replace(/(^|[^\\])H/g,"$1"+l);var m=l>12?l-12:0==l?12:l;b=b.replace(/(^|[^\\])hh+/g,"$1"+d(m)),b=b.replace(/(^|[^\\])h/g,"$1"+m);var n=c?a.getUTCMinutes():a.getMinutes();b=b.replace(/(^|[^\\])mm+/g,"$1"+d(n)),b=b.replace(/(^|[^\\])m/g,"$1"+n);var o=c?a.getUTCSeconds():a.getSeconds();b=b.replace(/(^|[^\\])ss+/g,"$1"+d(o)),b=b.replace(/(^|[^\\])s/g,"$1"+o);var p=c?a.getUTCMilliseconds():a.getMilliseconds();b=b.replace(/(^|[^\\])fff+/g,"$1"+d(p,3)),p=Math.round(p/10),b=b.replace(/(^|[^\\])ff/g,"$1"+d(p)),p=Math.round(p/10),b=b.replace(/(^|[^\\])f/g,"$1"+p);var q=12>l?"AM":"PM";b=b.replace(/(^|[^\\])TT+/g,"$1"+q),b=b.replace(/(^|[^\\])T/g,"$1"+q.charAt(0));var r=q.toLowerCase();b=b.replace(/(^|[^\\])tt+/g,"$1"+r),b=b.replace(/(^|[^\\])t/g,"$1"+r.charAt(0));var s=-a.getTimezoneOffset(),t=c||!s?"Z":s>0?"+":"-";if(!c){s=Math.abs(s);var u=Math.floor(s/60),v=s%60;t+=d(u)+":"+d(v)}b=b.replace(/(^|[^\\])K/g,"$1"+t);var w=(c?a.getUTCDay():a.getDay())+1;return b=b.replace(new RegExp(g[0],"g"),g[w]),b=b.replace(new RegExp(h[0],"g"),h[w]),b=b.replace(new RegExp(e[0],"g"),e[j]),b=b.replace(new RegExp(f[0],"g"),f[j]),b=b.replace(/\\(.)/g,"$1")}function formatTime(){if(getSetting("time_formatting")){for(var a=getSetting("time_format");byClass("raw-timestamp")[0];){var b=byClass("raw-timestamp")[0],c=1e3*b.value,d=new Date(c),e=formatDate(d,a),f=b.nextSibling;f.innerHTML=e,b.className="raw-timestamp-used"}hideFormattedTimestamp()}}function hideFormattedTimestamp(){if(!byID("formatted_timestamp_css")){var a=newElement("style");a.id="formatted_timestamp_css",a.innerHTML=".formatted_timestamp{display:none;}",document.head.appendChild(a)}}function doSpoilers(){getSetting("expandspoilers")||pushStyle(".fspoilertext{display:none;}")}function toggleSpoiler(a){var b=a.parentNode.byClass("fspoilertext")[0];-1==b.className.indexOf("fspoileropen")?b.className+=" fspoileropen ":b.className=b.className.replaceAll("fspoileropen","")}function insertPasswords(){byName("postpassword").length<2||(byName("postpassword")[0].value=getSetting("password"),byName("postpassword")[1].value=getSetting("password"))}function insertPreferences(){byName("preference")[0]&&(byName("preference")[0].value=getSetting("preference"))}function clearreplyto(){config.thread||(byID("clearreplyto").style.display="none",byID("clearreplyto").innerHTML="",byClass("postarea")[0].appendChild(byID("postform")),byID("posttypeindicator").textContent=_("New thread"),byID("formpostlink").href=document.location.protocol+"//"+document.location.host+"/"+config.board+"/",byID("formpostlink").textContent="",byID("formpostlink").style.display="none",byName("replythread")[0].value="0")}function getAllPostNumbers(){for(var a=[],b=byClass("post-number"),c=0;c<b.length;c++)a.push(getInt(b[c].id));return a}function clearFileSelect(){byID("fileupload-clear").style.display="none",byID("fileupload-list").innerHTML="",byID("fileupload").value=""}function handleFileSelect(a){byID("fileupload-list").innerHTML="",byID("fileupload-clear").style.display="inline";for(var b,c=a.target.files,d=0;b=c[d];d++)if(b.type.match("image.*")){var e=new FileReader;e.onload=function(a){return function(b){var c=newElement("span");c.innerHTML=['<img class="preloadthumb" title="'+_("Preview selected image")+'" src="',b.target.result,'" title="',escape(a.name),'"/>'].join(""),byID("fileupload-list").insertBefore(c,null)}}(b),e.readAsDataURL(b)}}function imgExpand(a,b,c,d){return a.hasClass("thumb-loading")?(a.src=c,a.className="thumb"):a.hasClass("thumb-expanded")?(a.className="thumb",a.src=c):(a.className="thumb thumb-loading",a.src=b,a.onload=function(){a.className="thumb thumb-expanded",a.onload=function(){}},a.onabort=function(){alert("cancel")}),d.preventDefault(),!1}function webmExpand(a){var b=a.parentNode.parentNode.href,c=newElement("span");c.className="webm-hide",c.textContent=_("Close"),c.onclick=function(a){webmClose(a)};var d=newElement("video");d.className="webm-video",d.autoplay=!0,d.controls=!0;var e=newElement("source");e.type="video/webm",e.src=b,d.appendChild(e),a.parentNode.parentNode.parentNode.insertAfter(c,a.parentNode.parentNode),a.parentNode.parentNode.parentNode.insertAfter(d,a.parentNode.parentNode),a.addClass("hidden-element")}function webmClose(a){var b=a.target;if(b.parentNode.byClass("webm-video")[0]&&b.parentNode.byClass("webm-video")[0].remove(),b.parentNode.byClass("webm-thumb")[0]&&b.parentNode.byClass("webm-thumb")[0].removeClass("hidden-element"),b.remove(),!a)var a=window.event;a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation(),a.preventDefault()}function rollLogo(){cache.rollLogo||(cache.rollLogo=0),cache.rollLogo++;var a=byID("logo-image-top"),b="rotate("+360*cache.rollLogo+"deg)";a.pushStyleArray({"-moz-transform":b,"-webkit-transform":b,"-ms-transform":b,"-o-transform":b,transform:b})}function scrollToEnd(){window.scroll(0,document.body.clientWidth)}function updateTitle(){if(!config.ispage){var a,b,c,d,e,f;if(c=getSetting("title_format"),d=byClass(config.new_post_class).length,d=d&&d>0?"("+d+") ":"",f=config.board,e=decodeHTML(config.boardNames[f]?" - "+config.boardNames[f]:""),config.thread)try{a=" - "+ellipsis(byClass("filetitle-thread")?byClass("filetitle-thread")[0].textContent.trim():"",30),b=" - "+ellipsis(byClass("posttext")?byClass("posttext")[0].textContent.trim():"",30)}catch(g){a="",b=" - "+_("Thread №")+config.thread}else a="",b="";c=d+"/"+f+"/ "+a+b+e,document.title=c}}function faviconCounter(){if(getSetting("tab_notification")){var a=byClass(config.board_link_counter_class).length;byID("favicon").href=a?"/favicon*.ico?":"/favicon.ico?"}}function highlightPostInURL(){for(var a=byClass(config.outlined_post_class),b=0;b<a.length;b++){var c=a[b];c.removeClass(config.outlined_post_class)}var d=1*document.location.href.split("#")[1];isNaN(d)||byID("reply"+d)&&byID("reply"+d).addClass(config.outlined_post_class)}function initConfig(){config.board=byName("board")[0].value}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _(a){return"undefined"!=typeof getText[getSetting("language")]&&"undefined"!=typeof getText[getSetting("language")][a]?getText[getSetting("language")][a]:a}function translateUI(){var a=byClass("gt");CycleThrough(a,function(b){var c=a[b],d=c.tagName.toLowerCase();-1!=["input"].indexOf(d)?c.value=_(c.value):c.textContent=_(c.textContent)})}function confirmationTimer(){var a=byID("timeout"),b=getInt(a.textContent);if(1==b){var a=byID("timeout-item");a.textContent=_("You are now able to post."),clearInterval(cache.timeout)}else a.textContent=b-1}function startConfirmationTimer(){byID("timeout")&&(cache.timeout=setInterval(confirmationTimer,1e3))}function stringifyPost(a){if(!a)var a=byID("powtimestamp").value;return byID("message").value.replace(/\n/g,"\r\n")+a}function terminateWorkers(){for(var a in cache.powWorkers)cache.powWorkers[a].terminate()}function startPOWCalculation(){var a=1*byID("powrequired").value,b=Date.now(),c=stringifyPost(b);if(cache.pow_status=2,byID("powtimestamp").value=b,byID("powbutton").value="Wait...",window.Worker)for(var d=0;d<cache.powThreadsCount;d++){var e=function(e){cache.powWorkers[d].postMessage({cmd:"start",timestamp:b,post_content:c,value:a})};cache.powWorkers[d]=new Worker(config.cpuboiler_path),e(cache.powWorkers[d]),cache.powWorkers[d].addEventListener("message",function(a){byID("powvalue").value=a.data,byID("powbutton").value=_("Done!"),cache.pow_status=3},!1)}else alert(_("You are using old browser (Web Workers are not supported)!"))}function checkStyle(a){return cache.appliedStyle?void(cache.appliedStyle!=getStyle()+" "+getCookie("center_posts")&&(changeStyle(getStyle()),
saveAppliedStyle(),"function"==typeof a&&a())):void saveAppliedStyle()}function changeStyle(a){setCookie("style",a,{expires:864e4,path:"/"}),setTimeout(function(){byID("styleman").href=document.location.protocol+"//"+document.location.host+config.style_path+"?"+Math.random()},10)}function getStyle(){return getCookie("style")?getCookie("style"):config.default_style}function saveAppliedStyle(){cache.appliedStyle=getStyle()+" "+getCookie("center_posts")}var style_cookie,style_cookie_txt,style_cookie_site,kumod_set=!1,quick_reply=!1,ispage;Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1});var Utf8={encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},decode:function(a){for(var b="",c=0,d=c1=c2=0;c<a.length;)d=a.charCodeAt(c),128>d?(b+=String.fromCharCode(d),c++):d>191&&224>d?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((31&d)<<6|63&c2),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((15&d)<<12|(63&c2)<<6|63&c3),c+=3);return b}};if(window.onload=function(a){if("allboards"==getCookie("kumod"))kumod_set=!0;else if(""!=getCookie("kumod")){var b=getCookie("kumod").split("|"),c=document.getElementById("postform").board.value;for(var d in b)if(b[d]==c){kumod_set=!0;break}}if(delandbanlinks(),checkhighlight(),document.getElementById("watchedthreads")){var e,f;!function(){var a=function(){set_cookie("watchedthreadstop",document.getElementById("watchedthreads").style.top,30),set_cookie("watchedthreadsleft",document.getElementById("watchedthreads").style.left,30)},b=function(){var a=document.getElementById("watchedthreads").offsetWidth,b=document.getElementById("watchedthreads").offsetHeight;set_cookie("watchedthreadswidth",a,30),set_cookie("watchedthreadsheight",b,30)};e=new Draggable("watchedthreads",{handle:"watchedthreadsdraghandle",onEnd:function(){a()}}),f=new Resizeable("watchedthreads",{resize:function(){b()}})}()}document.onkeydown=keypress},style_cookie){var cookie=getCookie(style_cookie),title=cookie?cookie:get_preferred_stylesheet();title!=get_active_stylesheet()&&set_stylesheet(title)}if(style_cookie_txt){var cookie=getCookie(style_cookie_txt),title=cookie?cookie:get_preferred_stylesheet();set_stylesheet(title,!0)}if(style_cookie_site){var cookie=getCookie(style_cookie_site),title=cookie?cookie:get_preferred_stylesheet();set_stylesheet(title,!1,!0)}Object.prototype.getKeys=function(){var a=[];for(var b in this)this.hasOwnProperty(b)&&a.push(b);return a},Object.prototype.hasKey=function(a){for(var b in this)if(this.hasOwnProperty(b)&&b==a)return!0;return!1},Object.prototype.hasValue=function(a){for(var b in this)if(this.hasOwnProperty(b)&&this[b]==a)return!0;return!1},Object.prototype.append=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])},Element.prototype.setProperties=function(a){for(var b in a)this[b]=a[b]},Element.prototype.byID=function(a){return this.getElementById(a)},Element.prototype.pushStyleArray=function(a){for(var b in a)this.style[b]=a[b]},Element.prototype.byClass=function(a){return this.getElementsByClassName(a)},Element.prototype.byTag=function(a){return this.getElementsByTagName(a)},Element.prototype.hasClass=function(a){for(var b=this.className.split(" "),c=0;c<b.length;c++)if(b[c]==a)return!0;return!1},Element.prototype.insertAfter=function(a,b){var c=b.nextSibling;return c?this.insertBefore(a,c):this.appendChild(a)},Element.prototype.addClass=function(a){for(var b=this.className.split(" "),c=0;c<b.length;c++)if(b[c]==a)return;this.className+=" "+a},Element.prototype.removeClass=function(a){for(var b=this.className.split(" "),c=[],d=0;d<b.length;d++)b[d]!=a&&c.push(b[d]);this.className=c.join(" ")},Array.prototype.inArray=function(a){for(var b in this)if(this.hasOwnProperty(b)&&this[b]==a)return!0;return!1},Array.prototype.getProperties=function(a,b){var c=[],b=b?b:1;for(var d in this)if(this.hasOwnProperty(d)){for(var e=this[d],f=0;b>f;f++)e=e[a];c.push(e)}return c},String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(a,"g"),b)},HTMLCollection.prototype.map||(HTMLCollection.prototype.map=function(a){for(var b=0;b<this.length;b++)a(this[b])});var config={hide_posts_mouse_move_delta:100,op_reflist_on_top:!1,reply_reflist_on_top:!1,reflink_prefix:">>",reflink_op_postfix:"[OP]",reflink_self_postfix:"[GET]",post_reflink_text:"No. ",highlight_timeout:5e3,clearreplyto_text:"[x]",min_update_interval:2e4,highlighted_post_delay:150,default_style:"Muon",style_path:"/static/style.php",board_path:"board.php",reply_like_class:"reply-like",loaded_post_class:"loaded-post",highlighted_post_class:"highlighted-post",outlined_post_class:"outlined-post",delform_id:"del-form",new_post_class:"new-post",underlined_link_id:"underlined-link",board_link_counter_class:"board-link-counter",favicon_path:"/favicon.ico",cpuboiler_path:"/static/js/src/cpuboiler.js",captcha_min_length:1,pow_allowed:!0,api_path:"api.php",is_mobile:"function"==typeof isMobile?isMobile():!1,"snow-delay":2,"snow-speed":1,max_script_execution_time:3e3};"undefined"!=typeof getWindowSize&&(config=collect({loaded_post_min_width:300,loaded_post_max_width:getWindowSize().x>1e3?1e3:getWindowSize().x-10},config));var DefaultSettings={time_formatting:!1,time_format:"dd.MM.yyyy (ddd) <b>HH:mm</b>:ss",time_format_i:1,highlight_posts:!1,title_format:"counter /boarddir/ - subject text boardname",update:!1,autoupdate:!0,updateinterval:40,language:"ru",reflinks:!0,youtube:!0,max_youtube:1,youtube_info:!0,center_posts:!1,ignored_boards:"",hidden_boards:"",expandspoilers:!1,saveimages:!0,noinit:!1,unsafe_init:!1,reflist_on_top:!1,tab_notification:!0,ajax_post_send:!1,preference:"pow",hidden:{},last_posts:{},password:"function"==typeof genPassword?genPassword():"",debug:!1},Ref,flags={mouseposition:{x:0,y:0}},cache={posts:{},requests:{},youtube:{},new_posts:{},check_passed:!1,pow_status:0,captcha_status:0,timeout_status:0,last_check:0,last_check_content:""},Settings,_ru,getText={ru:(_ru={Jan:"Янв",Feb:"Фев",Mar:"Мар",Apr:"Апр",May:"Май",Jun:"Июн",Jul:"Июл",Aug:"Авг",Sep:"Сен",Oct:"Окт",Nov:"Ноя",Dec:"Дек",January:"Январь",February:"Февраль",March:"Март",April:"Апрель"},_defineProperty(_ru,"May","Май"),_defineProperty(_ru,"June","Июнь"),_defineProperty(_ru,"July","Июль"),_defineProperty(_ru,"August","Август"),_defineProperty(_ru,"September","Сентябрь"),_defineProperty(_ru,"October","Октябрь"),_defineProperty(_ru,"November","Ноябрь"),_defineProperty(_ru,"December","Декабрь"),_defineProperty(_ru,"Mon","Пнд"),_defineProperty(_ru,"Tue","Втр"),_defineProperty(_ru,"Wed","Срд"),_defineProperty(_ru,"Thu","Чтв"),_defineProperty(_ru,"Fri","Птн"),_defineProperty(_ru,"Sat","Сбт"),_defineProperty(_ru,"Sun","Вск"),_defineProperty(_ru,"Monday","Понедельник"),_defineProperty(_ru,"Tuesday","Вторник"),_defineProperty(_ru,"Wednesday","Среда"),_defineProperty(_ru,"Thursday","Четверг"),_defineProperty(_ru,"Friday","Пятница"),_defineProperty(_ru,"Saturday","Суббота"),_defineProperty(_ru,"Sunday","Воскресенье"),_defineProperty(_ru,"Loading...","Загрузка..."),_defineProperty(_ru,"Processing response...","Обработка ответа..."),_defineProperty(_ru,"Something went wrong!","Ошибка!"),_defineProperty(_ru,"Thread expanded","Тред раскрыт"),_defineProperty(_ru,"Saved","Сохранено"),_defineProperty(_ru,"Autoupdate","Автообновление"),_defineProperty(_ru,"Autoupdate thread","Автообновление треда"),_defineProperty(_ru,"Interval","Интервал"),_defineProperty(_ru,"s.","с."),_defineProperty(_ru,"Notifications","Уведомления о новых постах"),_defineProperty(_ru,"Appearance","Оформление"),_defineProperty(_ru,"Buttons for text formatting in post form","Кнопки форматирования в форме поста."),_defineProperty(_ru,"Date format","Формат даты"),_defineProperty(_ru,"Year","Год"),_defineProperty(_ru,"Month","Месяц"),_defineProperty(_ru,"Day","День"),_defineProperty(_ru,"Weekday","День недели"),_defineProperty(_ru,"Hour","Час"),_defineProperty(_ru,"Minute","Минута"),_defineProperty(_ru,"Second","Секунда"),_defineProperty(_ru,"HTML tags are allowed","Можно использовать HTML-теги"),_defineProperty(_ru,"Show reflinks","Отображать обратные ссылки"),_defineProperty(_ru,"Reflinks position:","Расположение ссылок:"),_defineProperty(_ru,"Bottom","Снизу"),_defineProperty(_ru,"Top","Сверху"),_defineProperty(_ru,"Center posts","Посты по центру"),_defineProperty(_ru,"Tab Notifications","Значок на вкладке"),_defineProperty(_ru,"Show quick format buttons","Кнопки быстрого форматирования"),_defineProperty(_ru,"Show YouTube preview","Отображать превью для YouTube"),_defineProperty(_ru,"Load video title and duration","Загружать длительность и заголовок видео"),_defineProperty(_ru,"YouTube previews in post","Количество превью для YouTube в посте"),_defineProperty(_ru,"Expand spoilers","Раскрывать спойлеры"),_defineProperty(_ru,"Interface language","Язык интерфейса"),_defineProperty(_ru,"Thread Saving","Сохранение тредов"),_defineProperty(_ru,"Save original images","Сохранять оригиналы файлов"),_defineProperty(_ru,"Defaults","По умолчанию"),_defineProperty(_ru,"Apply","Применить"),_defineProperty(_ru,"Default values were applied","Установлены значения по умолчанию"),_defineProperty(_ru,"Replies:","Ответы:"),_defineProperty(_ru,"New thread","Новый тред"),_defineProperty(_ru,"To thread","В тред"),_defineProperty(_ru,"Subject","Тема"),_defineProperty(_ru,"Message","Текст"),_defineProperty(_ru,"File","Файл"),_defineProperty(_ru,"No File","Без файла"),_defineProperty(_ru,"Password","Пароль"),_defineProperty(_ru,"Loaded:","Загружено:"),_defineProperty(_ru,"posts","постов"),_defineProperty(_ru,"Thread №","Тред №"),_defineProperty(_ru,"or","или"),_defineProperty(_ru,"expand thread","развернуть тред"),_defineProperty(_ru,"Style:","Стиль:"),_defineProperty(_ru,"No new posts","Нет новых постов"),_defineProperty(_ru,"Post not found!","Пост не найден"),_defineProperty(_ru,"Error: unknown error.","Ошибка: неизвестная ошибка."),_defineProperty(_ru,"Error: no internet connection","Ошибка: нет соединения с интернетом"),_defineProperty(_ru,"Error: thread not found (404)","Ошибка: тред не найден (404)"),_defineProperty(_ru,"Error: server sent corrupted data.","Ошибка: сервер отправил поврежденные данные."),_defineProperty(_ru,"preview","просмотр"),_defineProperty(_ru,"New posts:","Новых постов:"),_defineProperty(_ru,"Open","Открыть"),_defineProperty(_ru,"Close","Закрыть"),_defineProperty(_ru,"Post was deleted by","Пост был удалён"),_defineProperty(_ru,"it's author","автором"),_defineProperty(_ru,"moderator","модератором"),_defineProperty(_ru,"File removed","Файл удалён"),_defineProperty(_ru,"Settings","Настройки"),_defineProperty(_ru,"Supported file formats","Поддерживаемые форматы файлов"),_defineProperty(_ru,"Maximum file size","Маскимальный размер файла"),_defineProperty(_ru,"Images greater than","Изображения, большие"),_defineProperty(_ru,"will be thumbnailed","будут уменьшены"),_defineProperty(_ru,"Currently",""),_defineProperty(_ru,"unique user posts","уникальных постов"),_defineProperty(_ru,"FAQ & rules","FAQ и правила"),_defineProperty(_ru,"Catalog","Каталог"),_defineProperty(_ru,"Expand","Раскрыть"),_defineProperty(_ru,"Other","Дополнительно"),_defineProperty(_ru,"for post and file deletion","для удаления постов и файлов"),_defineProperty(_ru,"Delete post","Удалить пост"),_defineProperty(_ru,"File Only","Только файл"),_defineProperty(_ru,"Previous","Назад"),_defineProperty(_ru,"Next","Дальше"),_defineProperty(_ru,"Preview selected image","Предпросмотр выбранного изображения"),_defineProperty(_ru,"Reply","Ответ"),_defineProperty(_ru,"Submit","Отправить"),_defineProperty(_ru,"Confirm post sending","Подтверждение отправки поста"),_defineProperty(_ru,"Please enter CAPTCHA:","Введите символы с картинки:"),_defineProperty(_ru,'Please press "submit" to send your post.','Нажмите "Submit" чтобы отправить пост.'),_defineProperty(_ru,"You are now able to post.","Теперь вы можете постить!"),_defineProperty(_ru,"Enter message first!","Вы ничего не написали в сообщении!"),_defineProperty(_ru,"You need to wait","Необходимо подождать"),_defineProperty(_ru,"Or calculate POW","Или вычислите POW"),_defineProperty(_ru,"seconds","с"),_defineProperty(_ru,"Select file you want to post.","Выберите файл, который вы хотите запостить"),_defineProperty(_ru,"You are using old browser (Web Workers are not supported)!","Вы используете устаревший браузер (Web Workers не поддерживаются)!"),_defineProperty(_ru,'Please press "submit" to send your post.',"Пожалуйста, подтвердите отправку поста."),_ru),en:{}},TimeText={months_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],months_full:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdays_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},TimeFormats={MMMM:["\x00",_("January"),_("February"),_("March"),_("April"),_("May"),_("June"),_("July"),_("August"),_("September"),_("October"),_("November"),_("December")],MMM:["",_("Jan"),_("Feb"),_("Mar"),_("Apr"),_("May"),_("Jun"),_("Jul"),_("Aug"),_("Sep"),_("Oct"),_("Nov"),_("Dec")],dddd:["",_("Sunday"),_("Monday"),_("Tuesday"),_("Wednesday"),_("Thursday"),_("Friday"),_("Saturday")],ddd:["",_("Sun"),_("Mon"),_("Tue"),_("Wed"),_("Thu"),_("Fri"),_("Sat")]};!function(a){function b(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[(c+64>>>9<<4)+14]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;16>c;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}"function"==typeof define&&define.amd?define(function(){return t}):a.md5=t}(this),cache.powThreadsCount=2,cache.powWorkers=[],document.addEventListener("DOMContentLoaded",startConfirmationTimer),document.addEventListener("DOMContentLoaded",function(){window.addEventListener("focus",checkStyle)});