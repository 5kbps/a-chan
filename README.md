# About

Исходные коды имиджборда a-chan.org.

# Дисклеймер!

Данный код не является улучшенной версией kusaba! Часть функциональности 
оригинального движка была удалена.

# Установка

Движок разрабатывался постепенно, а его переиспользование изначально не 
предполагалось, поэтому автоматического установщика нету. Инструкция:

1. Установить движок Kusaba X 0.9.3 с оффсайта, настроить.

2. Так как кусаба давно не обновлялась, рекомендуется заменить lib/adodb на 
последнюю версию, брать [тут](http://www.adodb.org/).

3. Создать нужные таблички в БД из файла deploy/deploy.sql

4. Заменить файлы кусабы на файлы из этого репозитория (файлы, которых нет, 
удалять не надо)

5. Для webm нужно поставить ffmpeg, скомпилированный с поддержкой libvpx - соответственно чтобы не тянуть кучу ненужной фигни в систему, лучше собрать как здесь: http://wiki.webmproject.org/ffmpeg/building-with-libvpx (обратите внимание - в гайде не самые новые версии библиотек, нужно заменить!)

6. Приложен образец конфига для nginx. Рекомендуется использовать именно этот вебсервер.

# Использование

Нововведенные функции борды настраиваются через файл config-user.php
Обратить внимание на BOARD_DOMAINS - это список доменов, для которых ссылки 
заменяются на относительные. 

# Заметки/TODO

1. При создании новой доски требуется обнулить таблицу antiwipe в бд. TODO исправить
2. Включение капчи осуществляется на странице Antiwipe из мод-меню, отметить галочку pow. Она отвечает и за капчу и за POW.
3. Рекомендуется сбрасывать globallog из админки, чтобы не захламлять бд. Автоматическая очистка не добавлена. TODO
4. TODO Скорее всего, для безопасного использования geshi не достаточно ограничения входного текста по длине - см. inc/classes/parse.class.php
5. TODO убрать захардкорженные в код домены inc/classes/parse.class.php:99

# Разработка

Код заброшен, однако любые вопросы по использованию можно задать по почте 5kbps@openmailbox.org

Пуллреквесты are welcome!

